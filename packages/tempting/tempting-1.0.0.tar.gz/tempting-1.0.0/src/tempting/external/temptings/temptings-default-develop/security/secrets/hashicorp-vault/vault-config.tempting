---
doc:
  short_help: Configuration for a Hashicorp Vault service.

args:
  listener_tcp_address:
    doc:
      short_help: Specifies the address to bind to for listening.
    type: string
    required: true
    default: "0.0.0.0:8200"
  disable_listener_tcp_tls:
    doc:
      short_help: Specifies if TLS will be disabled.
      help: |
        Specifies if TLS will be disabled. Vault assumes TLS by default, so you must explicitly disable TLS to opt-in to insecure communication.
    type: boolean
    required: false
  ui:
    doc:
      short_help: Whether to enable the Vault UI on this machine.
    type: boolean
    required: false
  disable_mlock:
    doc:
      short_help: Whether to disable 'mlock' for this Vault instance.
    type: boolean
    required: false
---
listener "tcp" {
  address       = "{{:: listener_tcp_address ::}}"
  {%:: if disable_listener_tcp_tls is defined ::%}tls_disable = {%:: if disable_listener_tcp_tls ::%}true{%:: else ::%}false{%:: endif ::%}{%:: endif ::%}
}
storage "consul" {
}

{%:: if ui is defined ::%}ui = {%:: if ui ::%}true{%:: else ::%}false{%:: endif ::%}
{%:: endif ::%}
{%:: if disable_mlock is defined ::%}disable_mlock = {%:: if disable_mlock ::%}true{%:: else ::%}false{%:: endif ::%}
{%:: endif ::%}



