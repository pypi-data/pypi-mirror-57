#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import sys
import dotter
import argparse
import logging


log = logging.getLogger()
log.addHandler(logging.StreamHandler(stream=sys.stderr))
log.setLevel("DEBUG")


def main():
    parser = argparse.ArgumentParser(prog='dotter')

    script = dotter.App(parser)

    try:
        return script.run(parser, parser.parse_args())
    except KeyboardInterrupt:
        return 1
    except Exception as e:
        parser.error(str(e))
        return 130


if __name__ == '__main__':
    sys.exit(main())
