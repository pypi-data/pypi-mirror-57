<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Class Documentation &#8212; Rtree 0.8.3 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.8.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Rtree 0.8.3 documentation" href="index.html" />
    <link rel="next" title="Changes" href="changes.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="changes.html" title="Changes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Rtree 0.8.3 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="class-documentation">
<span id="class"></span><h1>Class Documentation<a class="headerlink" href="#class-documentation" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="rtree.index.Index">
<em class="property">class </em><code class="descclassname">rtree.index.</code><code class="descname">Index</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Index" title="Permalink to this definition">¶</a></dt>
<dd><p>An R-Tree, MVR-Tree, or TPR-Tree indexing object</p>
<dl class="method">
<dt id="rtree.index.Index.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Index.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new index</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; The first argument in the constructor is assumed to be a filename
determining that a file-based storage for the index should be used.
If the first argument is not of type basestring, it is then assumed
to be an instance of ICustomStorage or derived class.
If the first argument is neither of type basestring nor an instance
of ICustomStorage, it is then assumed to be an input index item
stream.</li>
<li><strong>stream</strong> &#8211; <p>If the first argument in the constructor is not of type basestring,
it is assumed to be an iterable stream of data that will raise a
StopIteration.  It must be in the form defined by the
<code class="xref py py-attr docutils literal"><span class="pre">interleaved</span></code> attribute of the index. The following example
would assume <code class="xref py py-attr docutils literal"><span class="pre">interleaved</span></code> is False:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="p">(</span><span class="n">minx</span><span class="p">,</span> <span class="n">maxx</span><span class="p">,</span> <span class="n">miny</span><span class="p">,</span> <span class="n">maxy</span><span class="p">,</span> <span class="n">minz</span><span class="p">,</span> <span class="n">maxz</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">mink</span><span class="p">,</span> <span class="n">maxk</span><span class="p">),</span>
</pre></div>
</div>
<blockquote>
<div>object)</div></blockquote>
<p>The object can be None, but you must put a place holder of
<code class="docutils literal"><span class="pre">None</span></code> there.</p>
</li>
<li><strong>storage</strong> &#8211; If the first argument in the constructor is an instance of
ICustomStorage then the given custom storage is used.</li>
<li><strong>interleaved</strong> &#8211; True or False, defaults to True.
This parameter determines the coordinate order for all methods that
take in coordinates.</li>
<li><strong>properties</strong> &#8211; An <code class="xref py py-class docutils literal"><span class="pre">index.Property</span></code> object
This object sets both the creation and instantiation properties
for the object and they are passed down into libspatialindex.
A few properties are curried from instantiation parameters
for you like <code class="docutils literal"><span class="pre">pagesize</span></code> and <code class="docutils literal"><span class="pre">overwrite</span></code>
to ensure compatibility with previous versions of the library.  All
other properties must be set on the object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The coordinate ordering for all functions are sensitive the
index&#8217;s <code class="xref py py-attr docutils literal"><span class="pre">interleaved</span></code> data member.  If <code class="xref py py-attr docutils literal"><span class="pre">interleaved</span></code>
is False, the coordinates must be in the form
[xmin, xmax, ymin, ymax, ..., ..., kmin, kmax]. If
<code class="xref py py-attr docutils literal"><span class="pre">interleaved</span></code> is True, the coordinates must be in the form
[xmin, ymin, ..., kmin, xmax, ymax, ..., kmax].</p>
</div>
<p>A basic example</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rtree</span> <span class="k">import</span> <span class="n">index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">Property</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">properties</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span>  
<span class="go">&lt;rtree.index.Index object at 0x...&gt;</span>
</pre></div>
</div>
<p>Insert an item into the index:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4321</span><span class="p">,</span> <span class="p">(</span><span class="mf">34.3776829412</span><span class="p">,</span> <span class="mf">26.7375853734</span><span class="p">,</span> <span class="mf">49.3776829412</span><span class="p">,</span>
<span class="go">41.7375853734), obj=42)</span>
</pre></div>
</div>
<p>Query:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hits</span> <span class="o">=</span> <span class="n">idx</span><span class="o">.</span><span class="n">intersection</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">),</span> <span class="n">objects</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">hits</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">4321</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">i</span><span class="o">.</span><span class="n">object</span>
<span class="gp">... </span>        <span class="n">i</span><span class="o">.</span><span class="n">bbox</span>
<span class="go">42</span>
<span class="go">[34.3776829412, 26.737585373400002, 49.3776829412,</span>
<span class="go">41.737585373400002]</span>
</pre></div>
</div>
<p>Using custom serializers:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">simplejson</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">JSONIndex</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">Index</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">dumps</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">simplejson</span><span class="o">.</span><span class="n">dumps</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">loads</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">simplejson</span><span class="o">.</span><span class="n">loads</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">json_idx</span> <span class="o">=</span> <span class="n">JSONIndex</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_idx</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">{</span><span class="s2">&quot;nums&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">23</span><span class="p">,</span> <span class="mi">45</span><span class="p">],</span>
<span class="go">&quot;letters&quot;: &quot;abcd&quot;})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">json_idx</span><span class="o">.</span><span class="n">nearest</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">objects</span><span class="o">=</span><span class="s2">&quot;raw&quot;</span><span class="p">))</span>
<span class="go">[{&#39;letters&#39;: &#39;abcd&#39;, &#39;nums&#39;: [23, 45]}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="rtree.index.Index.bounds">
<code class="descname">bounds</code><a class="headerlink" href="#rtree.index.Index.bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the bounds of the index</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>coordinate_interleaved</strong> &#8211; If True, the coordinates are turned
in the form [xmin, ymin, ..., kmin, xmax, ymax, ..., kmax],
otherwise they are returned as
[xmin, xmax, ymin, ymax, ..., ..., kmin, kmax].  If not specified,
the <code class="xref py py-attr docutils literal"><span class="pre">interleaved</span></code> member of the index is used, which
defaults to True.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rtree.index.Index.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Index.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Force a flush of the index to storage. Renders index
inaccessible.</p>
</dd></dl>

<dl class="method">
<dt id="rtree.index.Index.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>coordinates</em><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Index.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of objects that intersect the given coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>coordinates</strong> &#8211; sequence or array
This may be an object that satisfies the numpy array
protocol, providing the index&#8217;s dimension * 2 coordinate
pairs representing the <cite>mink</cite> and <cite>maxk</cite> coordinates in
each dimension defining the bounds of the query window.</td>
</tr>
</tbody>
</table>
<p>The following example queries the index for any objects any objects
that were stored in the index intersect the bounds given in the
coordinates:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rtree</span> <span class="k">import</span> <span class="n">index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">Index</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4321</span><span class="p">,</span> <span class="p">(</span><span class="mf">34.3776829412</span><span class="p">,</span> <span class="mf">26.7375853734</span><span class="p">,</span> <span class="mf">49.3776829412</span><span class="p">,</span>
<span class="go">41.7375853734), obj=42)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">count</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">))</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="rtree.index.Index.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>id</em>, <em>coordinates</em><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Index.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes items from the index with the given <code class="docutils literal"><span class="pre">'id'</span></code> within the
specified coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> &#8211; long integer
A long integer that is the identifier for this index entry.  IDs
need not be unique to be inserted into the index, and it is up
to the user to ensure they are unique if this is a requirement.</li>
<li><strong>coordinates</strong> &#8211; sequence or array
Dimension * 2 coordinate pairs, representing the min
and max coordinates in each dimension of the item to be
deleted from the index. Their ordering will depend on the
index&#8217;s <code class="xref py py-attr docutils literal"><span class="pre">interleaved</span></code> data member.
These are not the coordinates of a space containing the
item, but those of the item itself. Together with the
id parameter, they determine which item will be deleted.
This may be an object that satisfies the numpy array protocol.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rtree</span> <span class="k">import</span> <span class="n">index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">Index</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">4321</span><span class="p">,</span> <span class="p">(</span><span class="mf">34.3776829412</span><span class="p">,</span> <span class="mf">26.7375853734</span><span class="p">,</span> <span class="mf">49.3776829412</span><span class="p">,</span>
<span class="go">41.7375853734))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="rtree.index.Index.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>id</em>, <em>coordinates</em>, <em>obj=None</em><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Index.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts an item into the index with the given coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> &#8211; long integer
A long integer that is the identifier for this index entry.  IDs
need not be unique to be inserted into the index, and it is up
to the user to ensure they are unique if this is a requirement.</li>
<li><strong>coordinates</strong> &#8211; sequence or array
This may be an object that satisfies the numpy array
protocol, providing the index&#8217;s dimension * 2 coordinate
pairs representing the <cite>mink</cite> and <cite>maxk</cite> coordinates in
each dimension defining the bounds of the query window.</li>
<li><strong>obj</strong> &#8211; a pickleable object.  If not None, this object will be
stored in the index with the <code class="xref py py-attr docutils literal"><span class="pre">id</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The following example inserts an entry into the index with id <cite>4321</cite>,
and the object it stores with that id is the number <cite>42</cite>.  The
coordinate ordering in this instance is the default (interleaved=True)
ordering:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rtree</span> <span class="k">import</span> <span class="n">index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">Index</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4321</span><span class="p">,</span> <span class="p">(</span><span class="mf">34.3776829412</span><span class="p">,</span> <span class="mf">26.7375853734</span><span class="p">,</span> <span class="mf">49.3776829412</span><span class="p">,</span>
<span class="go">41.7375853734), obj=42)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="rtree.index.Index.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>coordinates</em>, <em>objects=False</em><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Index.intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ids or objects in the index that intersect the given
coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>coordinates</strong> &#8211; sequence or array
This may be an object that satisfies the numpy array
protocol, providing the index&#8217;s dimension * 2 coordinate
pairs representing the <cite>mink</cite> and <cite>maxk</cite> coordinates in
each dimension defining the bounds of the query window.</li>
<li><strong>objects</strong> &#8211; True or False or &#8216;raw&#8217;
If True, the intersection method will return index objects that
were pickled when they were stored with each index entry, as well
as the id and bounds of the index entries. If &#8216;raw&#8217;, the objects
will be returned without the <a class="reference internal" href="#rtree.index.Item" title="rtree.index.Item"><code class="xref py py-class docutils literal"><span class="pre">rtree.index.Item</span></code></a> wrapper.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The following example queries the index for any objects any objects
that were stored in the index intersect the bounds given in the
coordinates:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rtree</span> <span class="k">import</span> <span class="n">index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">Index</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4321</span><span class="p">,</span> <span class="p">(</span><span class="mf">34.3776829412</span><span class="p">,</span> <span class="mf">26.7375853734</span><span class="p">,</span> <span class="mf">49.3776829412</span><span class="p">,</span>
<span class="go">41.7375853734), obj=42)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hits</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">intersection</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">),</span> <span class="n">objects</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">item</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="n">item</span><span class="o">.</span><span class="n">bbox</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">hits</span> <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">4321</span><span class="p">]</span>
<span class="go">[(42, [34.3776829412, 26.737585373400002, 49.3776829412,</span>
<span class="go">41.737585373400002])]</span>
</pre></div>
</div>
<p>If the <a class="reference internal" href="#rtree.index.Item" title="rtree.index.Item"><code class="xref py py-class docutils literal"><span class="pre">rtree.index.Item</span></code></a> wrapper is not used, it is faster to
request the &#8216;raw&#8217; objects:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">intersection</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">),</span> <span class="n">objects</span><span class="o">=</span><span class="s2">&quot;raw&quot;</span><span class="p">))</span>
<span class="go">[42]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="rtree.index.Index.nearest">
<code class="descname">nearest</code><span class="sig-paren">(</span><em>coordinates</em>, <em>num_results=1</em>, <em>objects=False</em><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Index.nearest" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <code class="docutils literal"><span class="pre">k</span></code>-nearest objects to the given coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>coordinates</strong> &#8211; sequence or array
This may be an object that satisfies the numpy array
protocol, providing the index&#8217;s dimension * 2 coordinate
pairs representing the <cite>mink</cite> and <cite>maxk</cite> coordinates in
each dimension defining the bounds of the query window.</li>
<li><strong>num_results</strong> &#8211; integer
The number of results to return nearest to the given coordinates.
If two index entries are equidistant, <em>both</em> are returned.
This property means that <code class="xref py py-attr docutils literal"><span class="pre">num_results</span></code> may return more
items than specified</li>
<li><strong>objects</strong> &#8211; True / False / &#8216;raw&#8217;
If True, the nearest method will return index objects that
were pickled when they were stored with each index entry, as
well as the id and bounds of the index entries.
If &#8216;raw&#8217;, it will return the object as entered into the database
without the <a class="reference internal" href="#rtree.index.Item" title="rtree.index.Item"><code class="xref py py-class docutils literal"><span class="pre">rtree.index.Item</span></code></a> wrapper.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example of finding the three items nearest to this one:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rtree</span> <span class="k">import</span> <span class="n">index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">Index</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4321</span><span class="p">,</span> <span class="p">(</span><span class="mf">34.37</span><span class="p">,</span> <span class="mf">26.73</span><span class="p">,</span> <span class="mf">49.37</span><span class="p">,</span> <span class="mf">41.73</span><span class="p">),</span> <span class="n">obj</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hits</span> <span class="o">=</span> <span class="n">idx</span><span class="o">.</span><span class="n">nearest</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="n">objects</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rtree.index.Property">
<em class="property">class </em><code class="descclassname">rtree.index.</code><code class="descname">Property</code><span class="sig-paren">(</span><em>handle=None</em>, <em>owned=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Property" title="Permalink to this definition">¶</a></dt>
<dd><p>An index property object is a container that contains a number of
settable index properties.  Many of these properties must be set at
index creation times, while others can be used to adjust performance
or behavior.</p>
</dd></dl>

<dl class="class">
<dt id="rtree.index.Item">
<em class="property">class </em><code class="descclassname">rtree.index.</code><code class="descname">Item</code><span class="sig-paren">(</span><em>loads</em>, <em>handle</em>, <em>owned=False</em><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Item" title="Permalink to this definition">¶</a></dt>
<dd><p>A container for index entries</p>
<dl class="method">
<dt id="rtree.index.Item.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>loads</em>, <em>handle</em>, <em>owned=False</em><span class="sig-paren">)</span><a class="headerlink" href="#rtree.index.Item.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>There should be no reason to instantiate these yourself. Items are
created automatically when you call
<a class="reference internal" href="#rtree.index.Index.intersection" title="rtree.index.Index.intersection"><code class="xref py py-meth docutils literal"><span class="pre">rtree.index.Index.intersection()</span></code></a> (or other index querying
methods) with objects=True given the parameters of the function.</p>
</dd></dl>

<dl class="attribute">
<dt id="rtree.index.Item.bbox">
<code class="descname">bbox</code><a class="headerlink" href="#rtree.index.Item.bbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the bounding box of the index entry</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="previous chapter">Tutorial</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="changes.html"
                        title="next chapter">Changes</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/class.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="changes.html" title="Changes"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Rtree 0.8.3 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011, Howard Butler, Brent Pedersen, Sean Gilles, and others..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>