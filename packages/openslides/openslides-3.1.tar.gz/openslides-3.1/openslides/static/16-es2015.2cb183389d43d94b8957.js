(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"2VTm":function(t,n,e){"use strict";var l=e("8Y7J"),o=e("Mr+X"),i=e("Gi4r"),s=e("SVse"),r=e("w7eE");function c(t){return!!t&&void 0!==t.scroll&&void 0!==t.scale}e("Ri39"),e("9st3");var a=e("0QsF");function u(t){return void 0!==t.error}class h extends r.a{constructor(t,n,e){super(t,n),this.slideManager=e,this.slideOptions={scaleable:!1,scrollable:!1},this.slideStyle={"font-size":"100%","margin-top":"50px"}}get slideIsAutonomic(){return!!this.slideRef&&!!this.slideRef.instance&&c(this.slideRef.instance)}set slideData(t){if(!t||u(t)||t.data&&u(t.data)){let n;return this.slide&&this.slide.clear(),u(t)?n=t.error:t.data&&u(t.data)&&(n=t.data.error),void(n&&console.log(n))}this._slideData=t,this.previousSlideName!==t.element.name?(this.slideChanged(t.element),this.previousSlideName=t.element.name):this.setDataForComponent()}get slideData(){return this._slideData}set projector(t){this._projector=t,this.setProjectorForComponent(),this.updateScroll(),this.updateScale()}get projector(){return this._projector}set scroll(t){this._scroll=t,this.updateScroll()}get scroll(){return this._scroll}set scale(t){this._scale=t,this.updateScale()}get scale(){return this._scale}updateScroll(){if(this.slideOptions.scrollable&&!this.slideIsAutonomic){let t=this.scroll;t*=-100,this.projector.show_header_footer&&(t+=50),this.slideStyle["margin-top"]=`${t}px`}else this.slideStyle["margin-top"]="0px",this.slideIsAutonomic&&c(this.slideRef.instance)&&(this.slideRef.instance.scroll=this.scroll)}updateScale(){if(this.slideOptions.scaleable&&!this.slideIsAutonomic){let t=this.scale;t*=10,this.slideStyle["font-size"]=`${t+=100}%`}else this.slideStyle["font-size"]="100%",this.slideIsAutonomic&&c(this.slideRef.instance)&&(this.slideRef.instance.scale=this.scale)}slideChanged(t){const n=this.slideManager.getSlideConfiguration(t.name);this.slideOptions.scaleable="boolean"==typeof n.scaleable?n.scaleable:n.scaleable(t),this.slideOptions.scrollable="boolean"==typeof n.scrollable?n.scrollable:n.scrollable(t),this.slideManager.getSlideFactory(t.name).then(t=>{this.slide.clear(),this.slideRef=this.slide.createComponent(t),this.setDataForComponent(),this.setProjectorForComponent(),this.updateScale(),this.updateScroll()})}setDataForComponent(){this.slideRef&&this.slideRef.instance&&(this.slideRef.instance.data=this.slideData)}setProjectorForComponent(){this.slideRef&&this.slideRef.instance&&(this.slideRef.instance.projector=this.projector)}}var d=e("cUpR"),p=e("TSSN"),g=l.rb({encapsulation:0,styles:[["#slide[_ngcontent-%COMP%]{width:100%;height:100%}#slide.content[_ngcontent-%COMP%]{width:calc(100% - 100px);position:absolute;left:50px;top:40px;line-height:1.5}"]],data:{}});function b(t){return l.Pb(0,[l.Lb(402653184,1,{slide:0}),(t()(),l.tb(1,0,null,null,6,"div",[["id","slide"]],null,null,null,null,null)),l.Kb(512,null,s.z,s.A,[l.r,l.s,l.k,l.D]),l.sb(3,278528,null,0,s.j,[s.z],{ngClass:[0,"ngClass"]},null),l.Ib(4,{content:0}),l.Kb(512,null,s.B,s.C,[l.k,l.s,l.D]),l.sb(6,278528,null,0,s.o,[s.B],{ngStyle:[0,"ngStyle"]},null),(t()(),l.tb(7,16777216,[[1,3],["slide",1]],null,0,null,null,null,null,null,null,null))],(function(t,n){var e=n.component,l=t(n,4,0,e.slideOptions.scaleable||e.slideOptions.scrollable);t(n,3,0,l),t(n,6,0,e.slideStyle)}),null)}var f=e("ELcd");e("PAIG"),e("iVKA"),e("3moa"),e("+KbT"),e("fRtx"),e.d(n,"a",(function(){return m})),e.d(n,"b",(function(){return z}));var m=l.rb({encapsulation:0,styles:[["#container[_ngcontent-%COMP%]{background-color:#fafad2;position:relative}#container[_ngcontent-%COMP%]   #offline-indicator[_ngcontent-%COMP%]{top:0!important;right:0;color:#000;opacity:.3;position:absolute;z-index:100}#container[_ngcontent-%COMP%]   #offline-indicator[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:8pt;vertical-align:top;text-align:right}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]{position:absolute;top:0;left:0;-ms-transform-origin:left top;transform-origin:left top;overflow:hidden;font-size:22px!important;line-height:24px!important}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:70px;box-shadow:0 0 7px rgba(0,0,0,.6);background-repeat:no-repeat;background-size:100% 100%;margin-bottom:20px;z-index:9}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   .projector-logo-main[_ngcontent-%COMP%]{height:50px;padding-left:50px;padding-top:10px;float:left;display:-ms-flexbox;display:flex}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]{padding-left:50px;padding-top:12px;height:50px;overflow:hidden;line-height:1.1}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{font-size:26px;font-weight:400}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]   .event-name.titleonly[_ngcontent-%COMP%]{padding-top:12px}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{font-size:18px;opacity:.8}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #footer[_ngcontent-%COMP%]{position:fixed;width:100%;height:35px;bottom:0;z-index:9}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #footer[_ngcontent-%COMP%]   .footertext[_ngcontent-%COMP%]{font-size:16px;padding-left:50px;padding-right:50px;padding-top:5px;overflow:hidden;text-align:right}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.8}"]],data:{}});function j(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,3,"div",[["id","offline-indicator"]],null,null,null,null,null)),(t()(),l.tb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,o.b,o.a)),l.sb(2,9158656,null,0,i.b,[l.k,i.d,[8,null],[2,i.a]],null,null),(t()(),l.Nb(-1,0,[" fiber_manual_record "]))],(function(t,n){t(n,2,0)}),(function(t,n){t(n,1,0,l.Fb(n,2).inline,"primary"!==l.Fb(n,2).color&&"accent"!==l.Fb(n,2).color&&"warn"!==l.Fb(n,2).color)}))}function C(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,0,"img",[["class","projector-logo-main"]],[[8,"src",4]],null,null,null,null))],null,(function(t,n){t(n,0,0,l.xb(1,"",n.component.projectorLogo,""))}))}function v(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,2,"div",[["class","event-name"]],[[8,"innerHTML",1]],null,null,null,null)),l.Kb(512,null,s.z,s.A,[l.r,l.s,l.k,l.D]),l.sb(2,278528,null,0,s.j,[s.z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(t,n){t(n,2,0,"event-name",n.component.eventDescription?"":"titleonly")}),(function(t,n){t(n,0,0,n.component.eventName)}))}function _(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,0,"div",[["class","event-description"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(t,n){t(n,0,0,n.component.eventDescription)}))}function P(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,4,"div",[["id","eventdata"]],null,null,null,null,null)),(t()(),l.ib(16777216,null,null,1,null,v)),l.sb(2,16384,null,0,s.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(t()(),l.ib(16777216,null,null,1,null,_)),l.sb(4,16384,null,0,s.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null)],(function(t,n){var e=n.component;t(n,2,0,e.eventName),t(n,4,0,e.eventDescription)}),null)}function S(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,4,"div",[["class","headerFooter"],["id","header"]],null,null,null,null,null)),(t()(),l.ib(16777216,null,null,1,null,C)),l.sb(2,16384,null,0,s.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(t()(),l.ib(16777216,null,null,1,null,P)),l.sb(4,16384,null,0,s.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null)],(function(t,n){var e=n.component;t(n,2,0,e.projector.show_logo&&e.projectorLogo),t(n,4,0,e.projector.show_title)}),null)}function O(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),l.tb(1,0,null,null,1,"os-slide-container",[],null,null,null,b,g)),l.sb(2,49152,null,0,h,[d.h,p.k,a.a],{slideData:[0,"slideData"],projector:[1,"projector"],scroll:[2,"scroll"],scale:[3,"scale"]},null)],(function(t,n){var e=n.component;t(n,2,0,n.context.$implicit,e.projector,e.scroll,e.scale)}),null)}function M(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),l.Nb(1,null,[" "," "]))],null,(function(t,n){t(n,1,0,n.component.eventDate)}))}function x(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),l.Nb(-1,null,[" | "]))],null,null)}function w(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),l.Nb(1,null,[" "," "]))],null,(function(t,n){t(n,1,0,n.component.eventLocation)}))}function I(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,7,"div",[["class","headerFooter"],["id","footer"]],null,null,null,null,null)),(t()(),l.tb(1,0,null,null,6,"div",[["class","footertext"]],null,null,null,null,null)),(t()(),l.ib(16777216,null,null,1,null,M)),l.sb(3,16384,null,0,s.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(t()(),l.ib(16777216,null,null,1,null,x)),l.sb(5,16384,null,0,s.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(t()(),l.ib(16777216,null,null,1,null,w)),l.sb(7,16384,null,0,s.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null)],(function(t,n){var e=n.component;t(n,3,0,e.eventDate),t(n,5,0,e.eventDate&&e.eventLocation),t(n,7,0,e.eventLocation)}),null)}function z(t){return l.Pb(0,[l.Lb(402653184,1,{containerElement:0}),(t()(),l.tb(1,0,[[1,0],["container",1]],null,10,"div",[["class","projector-container"],["id","container"]],null,null,null,null,null)),l.sb(2,81920,null,0,f.a,[l.k],{osResized:[0,"osResized"]},null),(t()(),l.tb(3,0,null,null,8,"div",[["class","projector"],["id","projector"]],null,null,null,null,null)),(t()(),l.ib(16777216,null,null,1,null,j)),l.sb(5,16384,null,0,s.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(t()(),l.ib(16777216,null,null,1,null,S)),l.sb(7,16384,null,0,s.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(t()(),l.ib(16777216,null,null,1,null,O)),l.sb(9,278528,null,0,s.k,[l.O,l.L,l.r],{ngForOf:[0,"ngForOf"]},null),(t()(),l.ib(16777216,null,null,1,null,I)),l.sb(11,16384,null,0,s.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null)],(function(t,n){var e=n.component;t(n,2,0,e.resizeSubject),t(n,5,0,e.isOffline),t(n,7,0,e.projector&&e.projector.show_header_footer),t(n,9,0,e.slides),t(n,11,0,e.projector&&e.projector.show_header_footer)}),null)}},"9st3":function(t,n,e){"use strict";e.d(n,"a",(function(){return l})),e("Ri39");class l{constructor(){}}},ELcd:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var l=e("h9Sk");class o{constructor(t){this.element=t}ngOnInit(){new l.ResizeSensor(this.element.nativeElement,t=>this.onSizeChanged()),this.onSizeChanged()}onSizeChanged(){const t=this.element.nativeElement.clientWidth,n=this.element.nativeElement.clientHeight;t===this.oldWidth&&n===this.oldHeight||(this.oldWidth=t,this.oldHeight=n,this.osResized&&this.osResized.next())}}},PAIG:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var l=e("XNiG"),o=e("w7eE");e("fRtx"),e("iVKA"),e("3moa"),e("+KbT"),e("Ri39");class i extends o.a{constructor(t,n,e,o,i,s,r){super(t,n),this.projectorDataService=e,this.projectorRepository=o,this.configService=i,this.offlineService=s,this.elementRef=r,this.projectorId=null,this.currentProjectorSize={width:0,height:0},this.css={container:{height:"0px"},projector:{transform:"none",width:"0px",height:"0px",color:"black",backgroundColor:"white",H1Color:"#317796"},headerFooter:{color:"white",backgroundColor:"#317796",backgroundImage:"none"}},this.slides=[],this.scroll=0,this.scale=0,this.isOffline=!1,this.resizeSubject=new l.a,this.enableHeaderAndFooter=!0,this.enableTitle=!0,this.projectorClass="projector-"+Math.random().toString(36).substring(4),this.elementRef.nativeElement.classList.add(this.projectorClass),this.styleElement=document.createElement("style"),this.styleElement.appendChild(document.createTextNode("")),document.head.appendChild(this.styleElement),this.configService.get("logo_projector_main").subscribe(t=>{this.projectorLogo=t&&t.path?t.path:""}),this.configService.get("logo_projector_header").subscribe(t=>{this.css.headerFooter.backgroundImage=t&&t.path?"url('"+t.path+"')":"none",this.updateCSS()}),this.configService.get("general_event_name").subscribe(t=>this.eventName=t),this.configService.get("general_event_description").subscribe(t=>this.eventDescription=t),this.configService.get("general_event_date").subscribe(t=>this.eventDate=t),this.configService.get("general_event_location").subscribe(t=>this.eventLocation=t),this.resizeSubject.subscribe(()=>{this.containerElement&&this.updateScaling()}),this.offlineSubscription=this.offlineService.isOffline().subscribe(t=>this.isOffline=t)}set projector(t){this._projector=t,this.setProjector(t.projector)}get projector(){return this._projector}setProjector(t){const n=t?t.id:null;if(this.projectorId!==n&&(this.projectorIdChanged(this.projectorId,n),this.projectorId=n),t){const n=Object.assign({},this.currentProjectorSize);this.currentProjectorSize.height=t.height,this.currentProjectorSize.width=t.width,n.height===this.currentProjectorSize.height&&n.width===this.currentProjectorSize.width||this.updateScaling(),this.css.projector.color=t.color,this.css.projector.backgroundColor=t.background_color,this.css.projector.H1Color=t.header_h1_color,this.css.headerFooter.color=t.header_font_color,this.css.headerFooter.backgroundColor=t.header_background_color,this.updateCSS()}}updateScaling(){if(!this.containerElement||0===this.currentProjectorSize.width||0===this.containerElement.nativeElement.offsetWidth)return;const t=this.containerElement.nativeElement.offsetWidth/this.currentProjectorSize.width;isNaN(t)||(this.css.projector.transform="scale("+t+")",this.css.projector.width=this.currentProjectorSize.width+"px",this.css.projector.height=this.currentProjectorSize.height+"px",this.css.container.height=Math.round(t*this.currentProjectorSize.height)+"px",this.updateCSS())}updateCSS(){this.styleElement&&(this.styleElement.innerHTML=`\n            .${this.projectorClass} .projector-container {\n                height: ${this.css.container.height};\n            }\n            .${this.projectorClass} .projector {\n                transform: ${this.css.projector.transform};\n                width: ${this.css.projector.width};\n                height: ${this.css.projector.height};\n                background-color: ${this.css.projector.backgroundColor};\n                color: ${this.css.projector.color};\n            }\n            .${this.projectorClass} .projector h1 {\n                color: ${this.css.projector.H1Color};\n            }\n            .${this.projectorClass} .headerFooter {\n                color: ${this.css.headerFooter.color};\n                background-color: ${this.css.headerFooter.backgroundColor};\n                background-image: ${this.css.headerFooter.backgroundImage};\n            }`)}projectorIdChanged(t,n){this.dataSubscription&&this.dataSubscription.unsubscribe(),this.projectorSubscription&&this.projectorSubscription.unsubscribe(),n>0?(t>0&&this.projectorDataService.projectorClosed(t),this.dataSubscription=this.projectorDataService.getProjectorObservable(n).subscribe(t=>{this.slides=t||[]}),this.projectorSubscription=this.projectorRepository.getViewModelObservable(n).subscribe(t=>{t&&(this.scroll=t.scroll||0,this.scale=t.scale||0)})):!n&&t>0&&this.projectorDataService.projectorClosed(t)}ngOnDestroy(){this.projectorId>0&&this.projectorDataService.projectorClosed(this.projectorId),document.head.removeChild(this.styleElement),this.styleElement=null,this.offlineSubscription&&(this.offlineSubscription.unsubscribe(),this.offlineSubscription=null)}}}}]);